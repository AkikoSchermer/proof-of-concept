{% render 'partials/head.liquid' %}

<main class="container">

  <section>
    <h1>De mensen van Q42</h1>
    <p>Onze mensen noemen we Q'ers. Maar wie zijn dat dan? Die Q'ers die het internet aan het afmaken zijn? Check ze allemaal hieronder. En wil je ook Q'er worden, scroll dan even voorbij onze hoofden voor de openstaande vacatures!</p>
  </section>

  <ul class="user-list">
    {% for user in users %}
      <li class="users">
        {% comment %} id="toggle-{{ loop.index }}" {% endcomment %}
        {% comment %} <label class="avatars-toggle" for="toggle-{{ loop.index }}"> {% endcomment %}
          <label class="avatars-toggle">
          <input
            type="checkbox"
            class="visually-hidden">
          {% if user.avatars and user.avatars[0] %}

            <img
              src="{{ user.avatars[0] }}"
              alt="profielfoto van {{ user.name }}"
              width="300"
              height="300"
              loading="lazy"
              class="avatar avatar-0">
          {% endif %}


          {% if user.avatars and user.avatars[1] %}

            <img
              src="{{ user.avatars[1] }}"
              alt="profielfoto van {{ user.name }}"
              width="300"
              height="300"
              loading="lazy"
              class="avatar avatar-1">

          {% else %}
            <p>
              Geen afbeelding beschikbaar
            </p>
          {% endif %}
        </label>


        {% comment %} <div class="text-block">
          <h2>{{ user.name }}</h2>
          <p>{{ user.email }}</p>
      </div> 
{% else %}
<p>
Geen afbeelding beschikbaar {% endcomment %}
</p> 
        {% comment %} <label for="" class="">
                                                                                                                        <input
                                                                                                                          type="checkbox"
                                                                                                                          id="toggle"
                                                                                                                          class="visually-hidden">
                                                                                                                        <img src="/assets/HeartFilled.svg" class="heart-1">
                                                                                                                        <img src="/assets/HeartEmpty.svg" class="heart-2">
                                                                                                </label> {% endcomment %}

        {% for message in messages %}
          <form
            method="POST"
            action="/like/{{ message.id }}"
            class="like-form">
            <button type="submit" class="like-btn">
              <img
                src="/assets/HeartEmpty.svg"
                class="like"
                alt="Like" />
            </button>
          </form>
        {% endfor %}

        <form
          method="POST"
          action="/mensen-pagina"
          class="message-form">
          <label for="from">Naam:</label>
          <input
            type="text"
            id="from"
            name="from"
            required>

          <label for="text">Reactie:</label>
          <input
            type="text"
            id="text"
            name="text"
            required>

          <button type="submit">verzenden</button>
        </form>

        {% comment %} alleen de eerste reactie tonen {% endcomment %}
        {% if newMessages.size > 0 %}
          <div class="bericht">
            <p>{{ newMessages[0].from }}</p>
            <p>{{ newMessages[0].text }}</p>
          </div>
        {% else %}
          <p>Geen nieuwe berichten</p>
        {% endif %}

      </li>
    {% endfor %}
  </ul>

  <section class="vacatures">
    <h3>Ook werken bij Q42?</h3>
    <p>Hou jij van mooie web-, app-, IoT- of VR-dingen programmeren? En van de eindgebruiker verbazen? Dan willen wij graag met jou praten! Want wij zijn altijd op zoek naar knappe koppen. Check dus snel<a href="onze-vacatures">onze vacatures!</a>
    </p>

    <article class="vacature">
      <h3>Stage</h3>
      <p>Internship</p>
      <p>Den haag en/of Amsterdam
      </p>
    </article>

    <article class="vacature">
      <h3>Open sollicitatie</h3>
      <p>Full-time</p>
      <p>Den haag en/of Amsterdam
      </p>
    </article>

    <article class="vacature">
      <h3>Front-end Developer</h3>
      <p>Full-time</p>
      <p>Den haag en/of Amsterdam
      </p>
    </article>

    <article class="vacature">
      <h3>Ervaren.NET back-end developer</h3>
      <p>Full-time</p>
      <p>Den haag en/of Amsterdam
      </p>
    </article>

    <article class="vacature">
      <h3>Android-developer</h3>
      <p>Full-time</p>
      <p>Amsterdam en/of Den Haag</p>
    </article>

    <article class="vacature">
      <h3>Ervaren Go Developer</h3>
      <p>Full-time</p>
      <p>Den Haag</p>
    </article>

    <article class="vacature">
      <h3>Allround back-end developer(senior)</h3>
      <p>Full-time</p>
      <p>Amsterdam en/of Den Haag</p>
    </article>

    <article class="vacature">
      <h3>Techlead / senior software engineer</h3>
      <p>Full-time</p>
      <p>Amsterdam en/of Den Haag</p>
    </article>

    <article class="vacature">
      <h3>AI-engineer</h3>
      <p>Full-time</p>
      <p>Den haag en/of Amsterdam
      </p>
    </article>

    <a href="https://werkenbij.q42.nl">Bekijk alle vacatures op homerun</a>

  </section>

  <div class="eclipse-achtergrond"></div>
  <p>browse</p>

  <ul class="talen">
    <li>Nederlands</li>
    <li>Engels</li>
    <li>Haags</li>
  </ul>


</main>

{% render 'partials/foot.liquid' %}


<script>
  document.querySelectorAll('.like-form').forEach(form => {
  form.addEventListener('submit', async (event) => {
  event.preventDefault(); // Voorkomt herladen van de pagina

  const likeIcon = form.querySelector('.like');
  likeIcon.src = 'assets/HeartFilled.svg';

  fetch(form.action, {
   method: POST,
   }).catch(err => console.error('Error liken:', err));
  });
  });

</script>